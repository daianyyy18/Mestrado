#library(lattice)
#library(PMCMR)

precision <- head(read.csv('../output/precision.csv', sep=';', header=T), 10)[,2:9]
recall <- head(read.csv('../output/recall.csv', sep=';', header=T), 10)[,2:9]
fscore <- head(read.csv('../output/fscore.csv', sep=';', header=T), 10)[,2:9]

print('Precision')
png('precision.png', height=200, width=1000, units='px')
par(mfrow=c(1, 3))
plot(density(precision[, 'c5.target']), main='Target', ylim=c(0,3), xlim=c(0, 1))
plot(density(precision[, 'c5.crosscheck']), main='CrossCheck', ylim=c(0,3), xlim=c(0, 1))
plot(density(precision[, 'c5.browserbite']), main='Browserbite', ylim=c(0,3), xlim=c(0, 1))
dev.off()
s_t <- shapiro.test(precision[,'c5.target'])
print(s_t)
s_c <- shapiro.test(precision[,'c5.crosscheck'])
print(s_c)
s_c <- shapiro.test(precision[,'c5.browserbite'])
print(s_c)

print(' --- Anova on precision --- ')
precision <- c(precision[, 'c5.target'], precision[, 'c5.crosscheck'], precision[, 'c5.browserbite'])
classifiers <- c('c5.target', 'c5.crosscheck', 'c5.browserbite')
classifiers <- rep(classifiers, each=10)
data <- data.frame(precision, classifiers)
anova <- aov(data$precision ~ data$classifiers)
print(anova)
summary(anova)

print(' --- recall --- ')
png('recall.png', height=200, width=1000, units='px')
par(mfrow=c(1, 3))
plot(density(recall[, 'c5.target']), main='Target', ylim=c(0,3), xlim=c(0, 1))
plot(density(recall[, 'c5.crosscheck']), main='CrossCheck', ylim=c(0,3), xlim=c(0, 1))
plot(density(recall[, 'c5.browserbite']), main='Browserbite', ylim=c(0,3), xlim=c(0, 1))
dev.off()
s_t <- shapiro.test(recall[,'c5.target'])
print(s_t)
s_c <- shapiro.test(recall[,'c5.crosscheck'])
print(s_c)
s_c <- shapiro.test(recall[,'c5.browserbite'])
print(s_c)

print(' --- Anova on recall --- ')
recall <- c(recall[, 'c5.target'], recall[, 'c5.crosscheck'], recall[, 'c5.browserbite'])
classifiers <- c('c5.target', 'c5.crosscheck', 'c5.browserbite')
classifiers <- rep(classifiers, each=10)
data <- data.frame(recall, classifiers)
anova <- aov(data$recall ~ data$classifiers)
print(anova)
summary(anova)

print(' --- fscore --- ')
png('fscore.png', height=200, width=1000, units='px')
par(mfrow=c(1, 3))
plot(density(fscore[, 'c5.target']), main='Target', ylim=c(0,3), xlim=c(0, 1))
plot(density(fscore[, 'c5.crosscheck']), main='CrossCheck', ylim=c(0,3), xlim=c(0, 1))
plot(density(fscore[, 'c5.browserbite']), main='Browserbite', ylim=c(0,3), xlim=c(0, 1))
dev.off()
s_t <- shapiro.test(fscore[,'c5.target'])
print(s_t)
s_c <- shapiro.test(fscore[,'c5.crosscheck'])
print(s_c)
s_c <- shapiro.test(fscore[,'c5.browserbite'])
print(s_c)

print(' --- Anova on fscore --- ')
fscore <- c(fscore[, 'c5.target'], fscore[, 'c5.crosscheck'], fscore[, 'c5.browserbite'])
classifiers <- c('c5.target', 'c5.crosscheck', 'c5.browserbite')
classifiers <- rep(classifiers, each=10)
data <- data.frame(fscore, classifiers)
anova <- aov(data$fscore ~ data$classifiers)
print(anova)
summary(anova)
